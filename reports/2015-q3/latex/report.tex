\documentclass[a4wide,11pt]{report}
\usepackage[dvips]{graphicx}
\usepackage{url}
\usepackage{epstopdf}
\usepackage{float}
\usepackage{csvsimple}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{fancyhdr}
\pagestyle{fancy}
\usepackage{graphicx}

\begin{document}

\title{OpenStack Community Activity Report\\
      July-September, 2015 \\
      Report sponsored by the OpenStack Foundation\\
      %~~\\~~\\  \includegraphics[scale=.35]{openstack.eps}       \\
        ~~\\~~\\  \includegraphics[scale=.35]{logo.eps}       \\}




\maketitle


\newpage
~~\\~\\~\\~\\
\begin{tabular}{p{5cm}p{10cm}}
AUTHOR & Daniel Izquierdo Cort\'azar \\
       & Chief Data Officer  \\
       & dizquierdo@bitergia.com \\

\end{tabular}

~~\\~~\\

%We would like to thank the effort of the following people their effort to provide feedback and validation process. 

~~\\
~~\\

\begin{tabular}{p{5cm}p{10cm}}

\end{tabular}

~~\\
~~\\

This report would not exist without the effort of the people involved in the development of the \href{https://activity.openstack.org/dash}{OpenStack Activity Board}, \href{http://metricsgrimoire.github.io}{Grimoire toolset} and the feedback of the people in the development mailing list of the OpenStack Foundation.

~~\\
~~\\
~~\\
~~\\
~~\\
~~\\

%\begin{flushright}
%Text is available under the CC BY 3.0 License\\
%License available at \url{http://creativecommons.org/licenses/by/3.0/}
%\end{flushright}


%\rhead{Bitergia Report}
%\rhead{\includegraphics[scale=.15]{openstack.eps}\includegraphics[scale=.15]{logo.eps}}
\rhead{\includegraphics[scale=.15]{logo.eps}}
%\rhead{\includegraphics[scale=.15]{logo.eps}}




\newpage

\begin{center}
\textbf{Executive Summary}
\end{center}

The July-October 2015 summary of OpenStack Community Activity
Report\footnote{This report is produced quarterly to give Community
Managers and OpenStack Foundation's management better insights on
development activities and online conversations. The quantitative and
qualitative assessment start from tracking actions across all
OpenStack git repositories, gerrit code reviews, bug trackers as well
as IRC channels, mailing lists and questions/answers.} 
%starts to show
%the maturity reached by the project, with most metrics remaining
%stable compared to previous quarters. However the project keeps growing
%as observed with a minimum increase of activity of a 4\% if compared to 
%the previous year.

\subsection*{Key findings:}
\begin{description}

\item[Git activity keeps stable] \hfill \\
With an increase of activity close to 0\%, the code activity seems to
be similar to the previous year of activity. However, this does not imply
a similar activity in Gerrit. This data source shows an increase of 25\%
if compared to the previous year. This indicates an increase in terms
of reviewing activities, that is translated into a similar quantity of 
changes to the source code in the git repositories.

\item[Increases in the time to review] \hfill \\
Although the trend shows a constant decrease in the time to merge for the
whole set of OpenStack Software, this has slightly increased in this last
quarter. A more in depth analysis shows that those increases are found in 
projects such as Nova, Horizon, Neutron, Barbican or Sahara. On the other hand
projects such as Keystone, Glance, Ceilometer or Swift shows a clear decrease
in the time to merge patchsets. Finally, Infrastucture, Heat, Cinder or
Documentation show a stable time to merge process.

Higher increases in terms of review activity than in changes to the source code
may indicate that for similar pieces of code, a higher effort in terms of
patchsets, human resources and time are needed.

%Up: Trove, Sahara, Neutron, Rally, Barbican, Nova, Mistral, Ironic, Designate, Horizon
%Stable: Infrastructure, Heat, Documentation, Cinder,
%Down: Zaqar, Release Cycle, Quality Assurance, Puppet OpenStack, Keystone, Manila, Glance, Common Libraries, Ceilometer, Swift, OpenStackClient


\item[IRC activity keeps increasing] \hfill \\
Due to unknown issues, the total logs analyzed in the last two previous
quarters indicated a huge drop of activity. However, last analysis on this
data source shows activity in line with previous quarters. Although this is
still an unknown issue, the IRC activity has recovered expected activity.



\end{description}

\setcounter{tocdepth}{4}
\setcounter{secnumdepth}{4}
\tableofcontents


\chapter{Overview of the Project}

The OpenStack Community Activity Report is produced quarterly to give
Community Managers and OpenStack Foundation's management better
insights on development activities and online conversations. The
quantitative and qualitative assessment start from tracking actions
across all OpenStack git repositories, gerrit code reviews, bug
trackers as well as IRC channels, mailing lists and questions/answers
site Ask OpenStack.

The report looks at activities across the OpenStack community during
the third quarter of 2015, comparing it to previous eight
quarters.\footnote{The analyzed data sources are available in
appendix\ref{chap:data_sources}}.

The analysis aims at providing a detailed view of how the OpenStack
project is evolving with special focus on each of the OpenStack
project teams\footnote{Each of the projects mentioned are following the
analysis of the Projects specified at
\url{http://git.openstack.org/cgit/openstack/governance/tree/reference/projects.yaml}.
In addition, the hierarchy of projects and their repositories can be
found at the correspondent appendix\ref{chap:data_sources}}.


\begin{table}[H]
    \centering
    \begin{tabular}{c|c|c|}%
    \bfseries Data source & \bfseries Activity 365 days & \bfseries Change (wrt to prev. 365 days) % specify table head
    \csvreader[head to column names]{data/data_source_evolution.csv}{}% use head of csv as column names
    {\\\datasource & \netvalues ~ \metricsnames & \relativevalues\% }
    \end{tabular}
    \caption{Activity during the last 365 days and its evolution}
\end{table}

The overall activity keeps increasing. Specifically in the case of the Askbot activity.
However, due to issues scrapping the Askbot API, numbers during 2014 show highly different
values. Thus, this specific number should not be taken into account.
On the other hand, while commit activity keeps stable, with an increase of close to \%, 
the general review activity has increased 25\%. This may indicate a higher effort by the
community in terms of review, but with a similar outcome in terms of source code.


%TODO: add list of repositories analyzed per quarter

%\section{Development and Conversations}

%The mean number of developers per month

%\begin{figure}[H]
%    \centering
%    \includegraphics[scale=.35]{figs/authors_month.eps}
%\caption{Number of developers per month in mean for each quarter}
%\end{figure}

\begin{tabular}{p{7cm} p{5cm}}
    \vspace{0pt} 
    \includegraphics[scale=.35]{figs/authors_month.eps}
    & 
    \vspace{0pt}
    \begin{tabular}{l|r|}%
    \bfseries Period & \bfseries Authors per month% specify table head
   \csvreader[head to column names]{data/authors_month.csv}{}% use head of csv as column names
   {\\\labels & \authormonth}
   \end{tabular}
\end{tabular}

In this third quarter of 2015 the mean number of developers active per
month has reached a total of 662. It is observed an increase if compared to
the previous quarter, but not as high as during the first quarter of 2015.

The total number of contributors divided into three sets (core,
regular and casual\footnote{Contributing developers are characterized
as core, regular and casual depending on their activity in the git
repositories. The classification is built by sorting contributors by
their total number of commits; we sum the total commits per each
individual contributors: the individuals whose commits sum up to 80\%
of the total number of commits in the quarter are the core
contributors in that quarter. The regular contributors are those whose
commits sum up to 95\% of the total. The others are the casual
contributors.}) follows a similar patter. This mid term release cycle shows
a decrease if compared to previous quarter. And this also decreases if 
compared to the previous closing cycle (2015-Q1).

\begin{figure}[H]
    \centering
    \includegraphics[scale=.35]{figs/onion.eps}
    \caption{Evolution of the last 8 quarters of the core, regular and casual developers (Git activity)}
\end{figure}

\begin{table}[H]
    \centering
    \begin{tabular}{l|r|r|r|}%
    \bfseries Period & \bfseries Core & \bfseries Regular & \bfseries Occasional% specify table head
    \csvreader[head to column names]{data/onion_model.csv}{}% use head of csv as column names
    {\\\labels & \core & \regular & \occasional}
    \end{tabular}
    \caption{Characterization of developers by their total contribution to the OpenStack projects}
\end{table}



%This report aims to provide some insights about the software
%development process of the OpenStack community measuring efficiency
%and process of the community based on three metrics: the Review
%Efficiency Index (REI), the Time to Merge (TTM), and the Backlog
%Management Index (BMI). REI is measured as the number of closed
%(merged or abandoned) changesets out of the submitted changesets in a
%given period. TTM is measured as the time since a review is submitted
%until this is closed. The BMI is measured as the number of closed
%tickets out of open tickets in a given period.

%The median Time To Merge for Nova is a lot higher than in
%other project but the root cause of this is not clearly identifiable.

%\begin{table}[H]
%    \centering
%    \begin{tabular}{c|c|c|c|}%
%    \bfseries Project Team & \bfseries REI & \bfseries BMI & \bfseries TTM % specify table head
%    \csvreader[head to column names]{data/integrated_projects_efficiency.csv}{}% use head of csv as column names
%    {\\\projects & \bmi  & \bmiits & \timereview ~ days}
%    \end{tabular}
%    \caption{Closed changesets out of opened changesets (REI), closed ticket out of opened tickets (BMI) and median time to merge in Gerrit (TTM)}
%\end{table}

\section{Methodological Notes}

Main changes with respect to previous reports are the following ones:

\begin{itemize}
\item Addition of new repositories: this may vary aggregated numbers such as the number of 
contributors to the project if compared to previous analysis.
\item Some of the projects that are detailed in the Governance file may not have a specific report in this analysis. This is
due to their current migration under the \emph{official OpenStack infrastructure}.
\item \emph{specs} files are not included in the analysis.
\item Storyboard activity is not measured within this report. This explains low performance numbers
in projects such as Infrastructure.
\end{itemize}


\chapter{Communication and Support-Related Activities}

The OpenStack community uses several channels for communication and support-related activities. Mailing lists were initially the key place for communications, although part of the activity is moving to
the questions and answers tool in the Ask OpenStack site.

\section{Mailing Lists}

The following charts show activity in terms of emails sent, people sending emails and 
people initiating threads per quarter. In addition, two tables are presented with the hot
topics in the several analyzed mailing lists. First table shows hot topics ordered by
number of total posts in such thread, while the second table shows hot topics ordered by
the total number of different participants in the discussions. The two tables are
based on the last quarter period of activity.

\begin{tabular}{p{7cm} p{5cm}}
    \vspace{0pt} 
    \includegraphics[scale=.35]{figs/emails.eps}
    & 
    \vspace{0pt}
    \begin{tabular}{l|l}%
    \bfseries Period & \bfseries Emails % specify table head
    \csvreader[head to column names]{data/emails.csv}{}% use head of csv as column names
    {\\\labels & \emails}
    \end{tabular}
\end{tabular}

\begin{tabular}{p{7cm} p{5cm}}
    \vspace{0pt} 
    \includegraphics[scale=.35]{figs/emails_senders.eps}
    & 
    \vspace{0pt}
    \begin{tabular}{l|l}%
    \bfseries Period & \bfseries People % specify table head
    \csvreader[head to column names]{data/emails_senders.csv}{}% use head of csv as column names
    {\\\labels & \senders}
    \end{tabular}
\end{tabular}

\begin{tabular}{p{7cm} p{5cm}}
    \vspace{0pt} 
    \includegraphics[scale=.35]{figs/emails_senders_init.eps}
    & 
    \vspace{0pt}
    \begin{tabular}{l|l}%
    \bfseries Period & \bfseries People % specify table head
    \csvreader[head to column names]{data/emails_senders_init.csv}{}% use head of csv as column names
    {\\\labels & \senders}
    \end{tabular}
\end{tabular}

\begin{tabular}{p{4cm}p{5cm}p{2cm}}
    \bfseries Initial Author &  & \bfseries Number \\ 
    \bfseries and Date       & \bfseries Subject  & \bfseries Messages% specify table head
    \csvreader[head to column names]{data/mls_top_longest_threads.csv}{}% use head of csv as column names
    {\\\initiator \\\date & \subject & \len}
   % {\\\hline\csvcoli & \csvcolvii & \csvcolv & \csvcolii}% specify your coloumns here
\end{tabular}


%\begin{tabular}{p{3cm}p{6cm}p{2cm}}
%    \bfseries Initial Author & & \bfseries Diff. \\
%    \bfseries and Date & \bfseries Subject  &  \bfseries People% specify table head
%    \csvreader[head to column names]{data/mls_top_crowded_threads.csv}{}% use head of csv as column names
%    {\\\initiator \\\date & \subject  & \people}
%   % {\\\hline\csvcoli & \csvcolvii & \csvcolv & \csvcolii}% specify your coloumns here
%\end{tabular}

%\begin{tabular}{p{5cm}p{3cm}p{2cm}}
%    \bfseries Initial Author & \bfseries Subject  & \bfseries Date % specify table head
%    \csvreader[head to column names]{data/mls_top_longest_threads.csv}{}% use head of csv as column names
%    {\\\hline\csvcoli & \csvcolvi & \csvcoliv }% specify your coloumns here
%\end{tabular}

\section{Questions and Answers}

The following charts show activity in the Ask OpenStack site. Total number of questions,
number of answers, number of comments and people sending questions are depicted. In addition
four tables represent the hot topics activity in the Ask OpenStack site. Those show information
about the top visited questions, questions with the highest number of comments and questions with
the highest number of different people participating.

\begin{tabular}{p{7cm} p{5cm}}
    \vspace{0pt} 
    \includegraphics[scale=.35]{figs/questions.eps}
    & 
    \vspace{0pt}
    \begin{tabular}{l|l}%
    \bfseries Period & \bfseries Questions % specify table head
    \csvreader[head to column names]{data/questions.csv}{}% use head of csv as column names
    {\\\labels & \questions}
    \end{tabular}
\end{tabular}

\begin{tabular}{p{7cm} p{5cm}}
    \vspace{0pt} 
    \includegraphics[scale=.35]{figs/answers.eps}
    & 
    \vspace{0pt}
    \begin{tabular}{l|l}%
    \bfseries Period & \bfseries Answers % specify table head
    \csvreader[head to column names]{data/answers.csv}{}% use head of csv as column names
    {\\\labels & \answers}
    \end{tabular}
\end{tabular}

\begin{tabular}{p{7cm} p{5cm}}
    \vspace{0pt} 
    \includegraphics[scale=.35]{figs/comments.eps}
    & 
    \vspace{0pt}
    \begin{tabular}{l|l}%
    \bfseries Period & \bfseries Comments % specify table head
    \csvreader[head to column names]{data/comments.csv}{}% use head of csv as column names
    {\\\labels & \comments}
    \end{tabular}
\end{tabular}

\begin{tabular}{p{7cm} p{5cm}}
    \vspace{0pt} 
    \includegraphics[scale=.35]{figs/question_senders.eps}
    & 
    \vspace{0pt}
    \begin{tabular}{l|l}%
    \bfseries Period & \bfseries People asking % specify table head
    \csvreader[head to column names]{data/question_senders.csv}{}% use head of csv as column names
    {\\\labels & \senders}
    \end{tabular}
\end{tabular}

\begin{itemize}
\item  Top visited questions.
\end{itemize}

\begin{tabular}{p{8cm}p{2cm}}
    \bfseries Question subject & \bfseries Visits % specify table head
    \csvreader[head to column names]{data/qa_top_questions_visited.csv}{}% use head of csv as column names
    {\\\subject \href{\site}{+} & \visits}
\end{tabular}\\

\begin{itemize}
\item Top questions with more comments.
\end{itemize}
\begin{tabular}{p{8cm}p{2cm}}
    \bfseries Question subject & \bfseries Comments % specify table head
    \csvreader[head to column names]{data/qa_top_questions_commented.csv}{}% use head of csv as column names
    {\\ \subject \href{\site}{+} & \comments}
   % {\\\hline\csvcoli & \csvcolvii & \csvcolv & \csvcolii}% specify your coloumns here
\end{tabular}\\

\begin{itemize}
\item  Top questions with the highest number of different people participating.
\end{itemize}
\begin{tabular}{p{8cm}p{2cm}}
    \bfseries Question subject & \bfseries People participating % specify table head
    \csvreader[head to column names]{data/qa_top_questions_crowded.csv}{}% use head of csv as column names
    {\\\subject \href{\site}{+} & \people}
   % {\\\hline\csvcoli & \csvcolvii & \csvcolv & \csvcolii}% specify your coloumns here
\end{tabular}

%\begin{itemize}
%\item  Top tags
%\end{itemize}
%\begin{tabular}{p{8cm}p{2cm}}
%    \bfseries Tag name & \bfseries Ocurrences % specify table head
%    \csvreader[head to column names]{data/qa_top_tags.csv}{}% use head of csv as column names
%    {\\\tag & \occurrences}
%   % {\\\hline\csvcoli & \csvcolvii & \csvcolv & \csvcolii}% specify your coloumns here
%\end{tabular}

\section{IRC}

Finally, the community of OpenStack uses several IRC channels for asynchronous communication. 
This section shows information about the total number of messages sent in the community during 
the last 8 quarters together with the number of the several people participating in such discussions.
In addition, a list with the top participants in the IRC channels is provided.

\begin{tabular}{p{7cm} p{5cm}}
    \vspace{0pt} 
    \includegraphics[scale=.35]{figs/irc_sent.eps}
    & 
    \vspace{0pt}
    \begin{tabular}{l|l}%
    \bfseries Period & \bfseries Messages % specify table head
    \csvreader[head to column names]{data/irc_sent.csv}{}% use head of csv as column names
    {\\\labels & \messages}
    \end{tabular}
\end{tabular}

\begin{tabular}{p{7cm} p{5cm}}
    \vspace{0pt} 
    \includegraphics[scale=.35]{figs/irc_senders.eps}
    & 
    \vspace{0pt}
    \begin{tabular}{l|l}%
    \bfseries Period & \bfseries People % specify table head
    \csvreader[head to column names]{data/irc_senders.csv}{}% use head of csv as column names
    {\\\labels & \senders}
    \end{tabular}
\end{tabular}

\begin{tabular}{p{8cm}p{2cm}}
    \bfseries IRC id & \bfseries Messages sent % specify table head
    \csvreader[head to column names]{data/irc_top_senders.csv}{}% use head of csv as column names
    {\\\senders & \sent}
   % {\\\hline\csvcoli & \csvcolvii & \csvcolv & \csvcolii}% specify your coloumns here
\end{tabular}



\chapter{Details on OpenStack Software}

Each breakdown is divided into three sections with information from the last eight quarters: 
\begin{itemize}
\item activity: centered in the following metrics: commits from git activity, submitted, merge and abandoned reviews from the review system and
opened and closed tickets from the issue tracking system. 
\item community: active core reviewers in gerrit, active authors in git and top ten developers and top ten organizations contributing to the development in the last quarter.
of each project.
\item process: efficiency closing tickets, efficiency closing changesets, Time to Merge (mean and median), number of patchsets (iterations) per changeset and study on the time waiting for a reviewer or submitter action in the patchset review process.
\end{itemize}

Details on individual OpenStack project teams are provided in separate documents on {\url{git.openstack.org/cgit/openstack-infra/activity-board/tree/reports/2015-q1}}.

\newpage
\section{Overview of OpenStack Project Teams}
\input{openstacksoftware.tex}




\appendix{}

\chapter{Metrics Definitions}
\label{chap:metrics_definitions}

Metrics measured in each OpenStack team:

\begin{itemize}
\item Commit: this is defined as the action(s) that performes a change in the source code. 
Bots, merges and other type of automatic activity is removed from the records. In addition,
when aggregating several git repositories, this metric only counts unique revisions (unique hashes found in the git repositories).
Finally, all branches are aggregated to the analysis and the time to author the time used for this analysis.

\item Submitted changeset: a changeset is the process of peer reviewing source code changes. A commit
is not merged to the master code of a given project till this is approved for at least one core
reviewer of such project. A submitted changeset is defined as any changeset submitted to the Gerrit
system. However, given the limitations of the current version of the tool, with at least 5,900 changesets
detected as having an erroneous creation date, this metric counts the first patchset upload action. 
 
\item Merged and abandoned changsets: a merge is defined as the patchset that was finally submitted to the 
source code. An abandoned changeset is a potential merge that was finally dismissed by developers as
being part of the source code. This status is found in the status of the final patchset. However, although
a patchset can be merged or abandoned, this action can be reverted. If a patchset presents several of 
these changes in the same period of time, only one of them is counted (the very last one). On the other hand,
if those changes take place in different periods of analysis, both status would be counted.

\item Open and closed ticket: a ticket in Launchpad is counted as closed if the status of such ticket is defined as 'Fix Released'.
The rest of the tickets are counted as opened tickets.

\item Active Core Reviewer: a core reviewer has the possibility to use +2 or -2 actions when reviewing the code. 
However, if there are developers that for some period do not use those actions, those can not be measured as core reviewer.
Thus, this metric provides information about 'active' core reviewers. This can be also defined as those developers
that actively have used the +2 or -2 review action. This metric is also filtered by branch of activity, only using 'master'.
This helps to detect actual core reviewers in each of the projects.

\item Authors: a developer is defined as author if she is the owner of the patchset sent for reviewing and this is 
merged into the source code. As previously indicated, automatic commits such bot's are removed from this analysis.

\item Efficiency closing issues: this metric is a derivation of the Backlog Management Index (BMI) that measures the number
of closed tickets out of the opened tickets in a period of time. Values under 1.0 indicates that the number of closing
issues is lower than the number of opened issues arriving. On the contrary, higher charts would indicate better
maintenance effort by the community.

\item Efficiency closing changesets: this metric is a derivation of the Backlog Management Index as it is named as
Review efficiency index (REI). As similarly used in the BMI index, this metrics measures the number of closed changesets
(merged or abandoned) out of the total number of new changesets.

\item Time to Merge: this time consists of the time between the first upload of the first patchset (as defined
as a submitted changeset) till the last patchset of the changeset is merged into the code and this is indicated in the 
comments side of the Gerrit tool. This metric is provided in number of days.

\item Patchsets per changeset: this metric calculates the total number of iterations in a changeset till this is abandoned
or merged.

\item Time waiting for the reviewer or the submitter: a changeset is waiting for a reviewer action if a new patchset upload
or a new changset arrives to the system. On the other hand, a submitter action is required when a specific negative verification
or reviewing action takes place (Verified -1/-2 or Code-Review -1/-2). In addition, when a Code-Review +2 action takes place,
it is assumed that the changset is closing and no more times are registered either for the reviewer or the submitter.
For this analysis, those patchsets flagged as work in progress are ignored.

\end{itemize}

Metrics measured in the general overview:

\begin{itemize}
\item Community structure, core, regular and casual developers: developers are ordered in descendant order by the
number of commits authored for a given period. Core developers are defined as the list of developers that 
reach 80\% of the total commits. Regular is the set of developers that are between that 80\% and 95\% of the commits.
Casual developers are found in the rest of the 5\%. Bots are ignored in this list of developers.

\item Developer per month: average of developers per month ignoring bots.

\item Emails sent: number of emails sent by people to the several mailing lists. Bots are not registered.

\item People sending emails: number of people sending those emails ignoring bots.

\item People initiating threads: a thread is defined as a list of emails that has the same root. There may exist
threads of one email.

\item Top threads: this list provides the longest threads in terms of number of emails that have a common root email.

\item Questions, answers and comments in Askbot.

\item People asking questions in Askbot: number of people sending a new question.

\item Top visited questions.

\item Top tags: each of the questions has a list of associated tags. The top tags  are those 
with the highest number of repetitions aggregating all of the questions.

\item Messages and people in IRC: this analysis ignores as a message those entries in the IRC channels that provide
information about people entering or leaving the system.  

\end{itemize}



\chapter{Source Code and Data Sources}
\label{chap:data_sources}

The data source used to provide the data of this analysis can be found at the GrimoireLib library. Specifically the openstack\_report.py file\footnote{\url{https://github.com/VizGrimoire/GrimoireLib/blob/master/vizGrimoireJS/openstack_report.py}. Commit identified with the hash \emph{b025bed1cdd842f275ea07367882d85506e9c263}}. 


With respect to the list of analyzed repositories per project, the following table lists all of them.
There are three data sources: git activity (scm), tickets activity (its) and review activity (scr). This information is based on the information listed in the yaml organizational file\footnote{\url{http://git.openstack.org/cgit/openstack/governance/tree/reference/projects.yaml}} provided by the OpenStack Foundation.

%select p.id, pr.data_source, pr.repository_name 
%from projects p, project_repositories pr 
%where p.project_id=pr.project_id order by p.id, pr.data_source;

\input{repositories.tex}




\end{document}
